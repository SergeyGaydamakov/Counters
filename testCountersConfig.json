[
  {
    "name": "test_counter_1_f1_string_values",
    "comment": "Счетчик для строковых значений f1 с фильтрацией по умолчанию",
    "indexTypeName": "idx_f1",
    "computationConditions": {
      "t": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    },
    "evaluationConditions": {
      "d.f1": {
        "$in": ["1234567890", "1111111111", "2222222222", "3333333333", "4444444444"]
      },
      "d.a": {
        "$gte": 1000
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "max": {
        "$max": "$d.a"
      },
      "avg": {
        "$avg": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f1"
      }
    }
  },
  {
    "name": "test_counter_2_f2_enum_odd_values",
    "comment": "Счетчик для нечетных значений f2 enum",
    "indexTypeName": "idx_f2",
    "computationConditions": {
      "t": [1, 2, 5, 6, 7, 8, 9, 10]
    },
    "evaluationConditions": {
      "d.f2": {
        "$in": ["value1", "value3", "value5", "value7", "value9"]
      },
      "d.a": {
        "$gt": 5000
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f2"
      }
    }
  },
  {
    "name": "test_counter_3_f3_numeric_enum",
    "comment": "Счетчик для числовых значений f3 enum с фильтрацией по диапазону",
    "indexTypeName": "idx_f3",
    "computationConditions": {
      "t": [1, 2, 5, 6, 7, 8, 9, 10]
    },
    "evaluationConditions": {
      "d.f3": {
        "$gte": 3,
        "$lte": 8
      },
      "d.a": {
        "$gte": 2000,
        "$lte": 8000
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "min": {
        "$min": "$d.a"
      },
      "max": {
        "$max": "$d.a"
      },
      "avg": {
        "$avg": "$d.a"
      }
    }
  },
  {
    "name": "test_counter_4_f4_date_range",
    "comment": "Счетчик для f4 с фильтрацией по дате и сумме",
    "indexTypeName": "idx_f4",
    "computationConditions": {
      "t": [1, 2, 4, 6, 7, 8, 9, 10]
    },
    "evaluationConditions": {
      "d.f4": {
        "$in": ["5555555555", "6666666666", "7777777777", "8888888888"]
      },
      "d.dt": {
        "$gte": "2025-06-01 00:00:00",
        "$lte": "2025-08-31 23:59:59"
      },
      "d.a": {
        "$gte": 3000
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f4"
      }
    }
  },
  {
    "name": "test_counter_5_f5_high_amount",
    "comment": "Счетчик для f5 с высокими суммами",
    "indexTypeName": "idx_f5",
    "computationConditions": {
      "t": [2, 5, 6, 7, 8, 10]
    },
    "evaluationConditions": {
      "d.f5": {
        "$in": ["9999999999", "0000000000", "1234567890"]
      },
      "d.a": {
        "$gte": 5000000
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "max": {
        "$max": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f5"
      }
    }
  },
  {
    "name": "test_counter_6_f6_multiple_conditions",
    "comment": "Счетчик для f6 с множественными условиями",
    "indexTypeName": "idx_f6",
    "computationConditions": {
      "t": [2, 6, 7, 8, 10]
    },
    "evaluationConditions": {
      "d.f6": {
        "$regex": "^[2-4]",
        "$options": "i"
      },
      "d.a": {
        "$gte": 1000,
        "$lte": 5000
      },
      "d.dt": {
        "$gte": "2025-03-01 00:00:00"
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "avg": {
        "$avg": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f6"
      }
    }
  },
  {
    "name": "test_counter_7_f7_specific_values",
    "comment": "Счетчик для f7 с конкретными значениями",
    "indexTypeName": "idx_f7",
    "computationConditions": {
      "t": [1, 3, 4, 5, 10]
    },
    "evaluationConditions": {
      "d.f7": {
        "$in": ["1111111111", "3333333333", "5555555555"]
      },
      "d.a": {
        "$gte": 2000
      },
      "d.dt": {
        "$gte": "2025-01-01 00:00:00",
        "$lte": "2025-05-31 23:59:59"
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "min": {
        "$min": "$d.a"
      },
      "max": {
        "$max": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f7"
      }
    }
  },
  {
    "name": "test_counter_8_f8_regex_pattern",
    "comment": "Счетчик для f8 с регулярным выражением",
    "indexTypeName": "idx_f8",
    "computationConditions": {
      "t": [4, 5, 6, 8, 9, 10]
    },
    "evaluationConditions": {
      "d.f8": {
        "$regex": "^[6-9]",
        "$options": "i"
      },
      "d.a": {
        "$gte": 1500,
        "$lte": 7500
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "avg": {
        "$avg": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f8"
      }
    }
  },
  {
    "name": "test_counter_9_f9_limited_types",
    "comment": "Счетчик для f9 с ограниченными типами сообщений",
    "indexTypeName": "idx_f9",
    "computationConditions": {
      "t": [3, 4, 7, 8]
    },
    "evaluationConditions": {
      "d.f9": {
        "$in": ["7777777777", "8888888888", "9999999999"]
      },
      "d.a": {
        "$gte": 4000
      },
      "d.dt": {
        "$gte": "2025-07-01 00:00:00"
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "max": {
        "$max": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f9"
      }
    }
  },
  {
    "name": "test_counter_10_f10_date_specific",
    "comment": "Счетчик для f10 с конкретными датами",
    "indexTypeName": "idx_f10",
    "computationConditions": {
      "t": [1, 3, 4, 5, 9]
    },
    "evaluationConditions": {
      "d.f10": {
        "$in": ["0000000000", "1234567890", "4444444444"]
      },
      "d.a": {
        "$gte": 2500,
        "$lte": 6000
      },
      "d.dt": {
        "$gte": "2025-09-01 00:00:00",
        "$lte": "2025-10-31 23:59:59"
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "min": {
        "$min": "$d.a"
      },
      "avg": {
        "$avg": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f10"
      }
    }
  },
  {
    "name": "test_counter_11_f11_rare_types",
    "comment": "Счетчик для f11 с редкими типами сообщений",
    "indexTypeName": "idx_f1",
    "computationConditions": {
      "t": [5, 7]
    },
    "evaluationConditions": {
      "d.f11": {
        "$in": ["2222222222", "4444444444", "6666666666"]
      },
      "d.a": {
        "$gte": 3500
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "max": {
        "$max": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f11"
      }
    }
  },
  {
    "name": "test_counter_12_f12_medium_range",
    "comment": "Счетчик для f12 со средним диапазоном сумм",
    "indexTypeName": "idx_f2",
    "computationConditions": {
      "t": [2, 4, 8]
    },
    "evaluationConditions": {
      "d.f12": {
        "$regex": "^[1-3]",
        "$options": "i"
      },
      "d.a": {
        "$gte": 2000,
        "$lte": 4000
      },
      "d.dt": {
        "$gte": "2025-04-01 00:00:00",
        "$lte": "2025-06-30 23:59:59"
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "avg": {
        "$avg": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f12"
      }
    }
  },
  {
    "name": "test_counter_13_f13_combined_fields",
    "comment": "Счетчик для f13 с комбинированными полями",
    "indexTypeName": "idx_f3",
    "computationConditions": {
      "t": [3, 4, 5, 9]
    },
    "evaluationConditions": {
      "d.f13": {
        "$in": ["5555555555", "7777777777", "9999999999"]
      },
      "d.f2": {
        "$in": ["value2", "value4", "value6", "value8", "value10"]
      },
      "d.a": {
        "$gte": 3000
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "min": {
        "$min": "$d.a"
      },
      "max": {
        "$max": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f13"
      }
    }
  },
  {
    "name": "test_counter_14_f14_date_amount_correlation",
    "comment": "Счетчик для f14 с корреляцией даты и суммы",
    "indexTypeName": "idx_f4",
    "computationConditions": {
      "t": [1, 3, 5, 6]
    },
    "evaluationConditions": {
      "d.f14": {
        "$in": ["1111111111", "3333333333", "5555555555", "7777777777"]
      },
      "d.a": {
        "$gte": 1000,
        "$lte": 3000
      },
      "d.dt": {
        "$gte": "2025-02-01 00:00:00",
        "$lte": "2025-04-30 23:59:59"
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "avg": {
        "$avg": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f14"
      }
    }
  },
  {
    "name": "test_counter_15_f15_minimal_types",
    "comment": "Счетчик для f15 с минимальными типами сообщений",
    "indexTypeName": "idx_f5",
    "computationConditions": {
      "t": [1, 3]
    },
    "evaluationConditions": {
      "d.f15": {
        "$in": ["0000000000", "1234567890", "1111111111"]
      },
      "d.a": {
        "$gte": 500,
        "$lte": 2000
      },
      "d.dt": {
        "$gte": "2025-01-01 00:00:00",
        "$lte": "2025-03-31 23:59:59"
      }
    },
    "attributes": {
      "cnt": {
        "$sum": 1
      },
      "sum": {
        "$sum": "$d.a"
      },
      "min": {
        "$min": "$d.a"
      },
      "max": {
        "$max": "$d.a"
      },
      "avg": {
        "$avg": "$d.a"
      },
      "dst": {
        "$addToSet": "$d.f15"
      }
    }
  }
]